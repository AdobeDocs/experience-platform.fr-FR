---
keywords: Experience Platform;accueil;rubriques les plus consultées;Amazon S3;s3;S3
solution: Experience Platform
title: Création d’une connexion de base Amazon S3 à l’aide de l’API Flow Service
topic-legacy: overview
type: Tutorial
description: Découvrez comment connecter Adobe Experience Platform à Amazon S3 à l’aide de l’API Flow Service.
exl-id: c11cf1c8-86ff-4851-b2c2-7e421dcc37ea
source-git-commit: 4e82cc3e9ee24c088b7e89dced3206414d727b2b
workflow-type: tm+mt
source-wordcount: '554'
ht-degree: 10%

---

# Créez une connexion de base [!DNL Amazon] S3 à l’aide de l’API [!DNL Flow Service]

Une connexion de base représente la connexion authentifiée entre une source et Adobe Experience Platform.

Ce tutoriel vous guide tout au long des étapes pour créer une connexion de base pour [!DNL Amazon S3] (ci-après appelée &quot;[!DNL S3]&quot;) à l’aide de l’[[!DNL Flow Service] API](https://www.adobe.io/experience-platform-apis/references/flow-service/).

## Prise en main

Ce guide nécessite une compréhension professionnelle des composants suivants d’Adobe Experience Platform :

* [Sources](../../../../home.md) :  [!DNL Experience Platform] permet d’ingérer des données provenant de diverses sources tout en vous permettant de structurer, d’étiqueter et d’améliorer les données entrantes à l’aide de  [!DNL Platform] services.
* [Environnements de test](../../../../../sandboxes/home.md) : [!DNL Experience Platform] fournit des environnements de test virtuels qui divisent une instance [!DNL Platform] unique en environnements virtuels distincts pour favoriser le développement et l’évolution d’applications d’expérience numérique.

Les sections suivantes apportent des informations supplémentaires dont vous aurez besoin pour vous connecter à un stockage [!DNL S3] à l’aide de l’API [!DNL Flow Service].

### Collecte des informations d’identification requises

Pour que [!DNL Flow Service] se connecte à votre stockage [!DNL S3], vous devez fournir des valeurs pour les propriétés de connexion suivantes :

| Credential | Description |
| ---------- | ----------- |
| `s3AccessKey` | Identifiant de la clé d’accès pour votre compartiment [!DNL S3]. |
| `s3SecretKey` | Identifiant de clé secrète pour votre compartiment [!DNL S3]. |
| `serviceUrl` | (Facultatif) Point d’entrée [!DNL S3] personnalisé auquel se connecter. Ce champ est obligatoire lorsque votre compartiment [!DNL S3] est spécifique à une région. Le format de `serviceUrl` est le suivant : `https://s3.{REGION}.amazonaws.com/)`. |
| `bucketName` | Le compartiment [!DNL S3] contient vos données et ses métadonnées descriptives correspondantes. Le nom de votre compartiment [!DNL S3] doit comporter entre trois et 63 caractères et doit commencer et se terminer par une lettre ou un nombre. Le nom du compartiment ne peut contenir que des lettres minuscules, des chiffres ou des tirets (`-`) et ne peut pas être formaté en tant qu’adresse IP. |
| `folderPath` | Chemin d’accès au dossier dans votre compartiment [!DNL S3] où sont stockées vos données. Ces informations d’identification sont requises lorsque l’utilisateur dispose d’un accès restreint. |
| `connectionSpec.id` | La spécification de connexion renvoie les propriétés du connecteur d’une source, y compris les spécifications d’authentification liées à la création des connexions base et source. L’identifiant de spécification de connexion pour [!DNL S3] est : `ecadc60c-7455-4d87-84dc-2a0e293d997b`. |

Pour plus d’informations sur la prise en main, consultez [ce [!DNL Amazon Web Services] document](https://aws.amazon.com/blogs/security/wheres-my-secret-access-key/).

### Utilisation des API Platform

Pour plus d’informations sur la manière d’effectuer des appels avec succès vers les API Platform, consultez le guide de [prise en main des API Platform](../../../../../landing/api-guide.md).

## Création d’une connexion de base

Une connexion de base conserve les informations entre votre source et Platform, y compris les informations d’authentification de votre source, l’état actuel de la connexion et votre identifiant de connexion de base unique. L’identifiant de connexion de base vous permet d’explorer et de parcourir des fichiers à partir de votre source et d’identifier les éléments spécifiques que vous souhaitez ingérer, y compris des informations concernant leurs types et formats de données.

Pour créer un identifiant de connexion de base, envoyez une requête de POST au point de terminaison `/connections` tout en fournissant vos informations d’authentification [!DNL S3] dans le cadre des paramètres de requête.

**Format d’API**

```http
POST /connections
```

**Requête**

La requête suivante crée une connexion de base pour [!DNL S3] :

```shell
curl -X POST \
    'https://platform.adobe.io/data/foundation/flowservice/connections' \
    -H 'Authorization: Bearer {ACCESS_TOKEN}' \
    -H 'x-api-key: {API_KEY}' \
    -H 'x-gw-ims-org-id: {IMS_ORG}' \
    -H 'x-sandbox-name: {SANDBOX_NAME}' \
    -H 'Content-Type: application/json' \
    -d '{
        "name": "S3 Connection",
        "description": "Connection for an Amazon S3 account",
        "auth": {
            "specName": "Access Key",
            "params": {
                "s3AccessKey": "{S3_ACCESS_KEY}",
                "s3SecretKey": "{S3_SECRET_KEY}"
            }
        },
        "connectionSpec": {
            "id": "ecadc60c-7455-4d87-84dc-2a0e293d997b",
            "version": "1.0"
        }
    }'
```

| Propriété | Description |
| -------- | ----------- |
| `auth.params.s3AccessKey` | Clé d’accès associée à votre compartiment [!DNL S3]. |
| `auth.params.s3SecretKey` | Votre clé secrète associée à votre compartiment [!DNL S3]. |
| `connectionSpec.id` | ID de spécification de connexion [!DNL S3] : `ecadc60c-7455-4d87-84dc-2a0e293d997b` |

**Réponse**

Une réponse réussie renvoie les détails de la nouvelle connexion, y compris son identifiant unique (`id`). Cet identifiant est nécessaire pour explorer votre stockage dans le tutoriel suivant.

```json
{
    "id": "4cb0c374-d3bb-4557-b139-5712880adc55",
    "etag": "\"1700d77b-0000-0200-0000-5e3b41a10000\""
}
```

## Étapes suivantes

En suivant ce tutoriel, vous avez créé une connexion S3 à l’aide d’API et un identifiant unique a été obtenu dans le cadre du corps de la réponse. Vous pouvez utiliser cet identifiant de connexion pour [explorer le stockage dans le cloud à l’aide de l’API Flow Service](../../explore/cloud-storage.md) ou [ingérer des données Parquet à l’aide de l’API Flow Service](../../cloud-storage-parquet.md).
